'use strict';var key=null;var notes=null;if('m'==key_name.charAt(key_name.length-1)){var major_name=key_name.slice(0,-1);key=Tonal.Key.majorKey(Tonal.Key.minorKey(major_name).relativeMajor);notes=key.scale.slice(5,7).concat(key.scale.slice(0,5))}else{key=Tonal.Key.majorKey(key_name);notes=key.scale}if(key&&notes){var colors=traste.noteColors(notes);traste.drawFretboard('#fretboard',traste.instruments.ukulele,notes);var h1=d3.select('h1');h1.text(('Key of '+key_name+': '+notes.join(' - ')).replace(/b/g,'\u266D').replace(/#/g,'\u266F'));for(var idx in notes){d3.selectAll('.notes circle[title="'+notes[idx]+'"]').style('fill',colors[idx])}}else{document.getElementById('fretboard').parentElement.remove()}