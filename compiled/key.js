"use strict";var key=null;var notes=null;if("m"==key_name.charAt(key_name.length-1)){var tonic=key_name.slice(0,-1);key=Tonal.Key.minorKey(tonic).natural;notes=key.scale.slice(5,7).concat(key.scale.slice(0,5))}else{key=Tonal.Key.majorKey(key_name);notes=key.scale}if(key&&notes){var colors=traste.noteColors(notes);traste.drawFretboard("#fretboard",traste.instruments.ukulele,notes);var h1=d3.select("h1");h1.text("Key of ".concat(key_name,": ").concat(notes.join(" - ")).replace(/b/g,"\u266D").replace(/#/g,"\u266F"));for(var idx in notes){d3.selectAll(".notes circle[title=\"".concat(notes[idx],"\"]")).style("fill",colors[idx])}var table=d3.select("#vis").append("table");tr(table,"",key.grades,"th");tr(table,"Modes",key.chordScales);tr(table,"Chords",key.chords)}else{document.getElementById("fretboard").parentElement.remove()}function tr(table,first,arr){var elt=arguments.length>3&&arguments[3]!==undefined?arguments[3]:"td";table.append("tr").selectAll(elt).data([first].concat(arr)).join(elt).text(function(d){return d})}