"use strict";var detected=d3.select("#detected-chords");var notes=d3.select("#chord-notes");function draw(notes){traste.drawFretboard("#fretboard",traste.instruments.ukulele,notes);attribution("#fretboard")}function detect(input){detected.selectAll("*").remove();var chord_names=Tonal.Chord.detect(input.split(/[,\s]+/));if(chord_names.length){var chords=chord_names.map(function(name){var chord=Tonal.Chord.get(name.split("/")[0]);return{name:name,notes:chord.notes}});detected.append("h4").text("Detected");detected.append("ul").selectAll("li").data(chords).join("li").text(function(d){return"".concat(d.name,": ").concat(d.notes.join(", "))});draw(chords[0].notes)}else{detected.append("h4").text("No chords detected");draw(Tonal.Scale.get("A chromatic").notes)}}d3.select("#chord-detect").on("click",function(){return detect(notes.property("value"))});var chord_input=notes.on("change",function(event){return detect(event.target.value)});chord_input.attr("value","C E G").dispatch("change");